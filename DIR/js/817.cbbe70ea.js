"use strict";(self["webpackChunkcarllective"]=self["webpackChunkcarllective"]||[]).push([[817],{8817:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var o=function(){var t=this,e=t._self._c;return e("div",{class:"fr"===t.lang?"fr":"en",attrs:{id:"meets"}},[e("div",{staticClass:"title-section"},[e("h1",{staticClass:"header"},[t._v(t._s(t.$header))]),e("h2",{staticClass:"pre-title"},[t._v(t._s(t.$smalltext))]),e("div",{staticClass:"today"},[e("div",{staticClass:"small",attrs:{id:"currentLocation"},on:{click:function(e){t.location()===t.locationCTA&&t.requestLocation()}}},[e("h3",[e("img",{staticClass:"icon",attrs:{alt:"Location icon",src:s(6639)}}),e("span",{domProps:{innerHTML:t._s(t.location())}})])]),e("div",{staticClass:"small",attrs:{id:"currentDate"}},[e("h3",[e("img",{staticClass:"icon",attrs:{alt:"Calendar icon",src:s(6918)}}),e("div",{staticClass:"date"},[e("span",[e("h4",[t._v(t._s(t.todaysDate("month")))]),e("h3",[t._v(t._s(t.todaysDate("day")))])])])])])]),e("div",{staticClass:"select"},[e("div",{class:"dropdown-wrapper "+(t.your_location?"":"disabled")},[e("p",{staticClass:"label"},[t._v(t._s(t.$sort_CTA))]),e("div",{staticClass:"dropdown"},[e("p",{staticClass:"mainoption",on:{click:t.showDropdownHandler}},[t._v(t._s(Number.isInteger(t.activeFilter)?"fr"===t.lang?`Rayon de ${t.activeFilter} km`:`Within ${t.activeFilter} km`:t.activeFilter)+" "),e("span",{class:"chevron "+(t.showDropdown?"up":"down")},[t._v("▼")])]),e("ul",{style:t.showDropdown?"height: auto;":"height: 0%;"},[e("li",{on:{click:function(e){return t.sortBy("Date")}}},[t._v("Date")]),e("li",{on:{click:function(e){return t.sortBy("Distance")}}},[t._v("Distance")]),e("li",{on:{click:function(e){return t.sortBy(10)}}},[t._v(t._s("fr"===t.lang?"Rayon de 10 km":"Within 10 km"))]),e("li",{on:{click:function(e){return t.sortBy(20)}}},[t._v(t._s("fr"===t.lang?"Rayon de 20 km":"Within 20 km"))]),e("li",{on:{click:function(e){return t.sortBy(50)}}},[t._v(t._s("fr"===t.lang?"Rayon de 50 km":"Within 50 km"))])])])]),e("div",{staticClass:"dropdown-wrapper"},[e("p",{staticClass:"provincetitle label"},[t._v("Province")]),e("div",{staticClass:"dropdown"},[e("p",{staticClass:"mainoption",on:{click:t.showProvDropdownHandler}},[t._v(t._s("fr"===t.lang?t.activeProvince.fr:t.activeProvince.en)+" "),e("span",{class:"chevron "+(t.showProvDropdown?"up":"down")},[t._v("▼")])]),e("ul",{style:t.showProvDropdown?"height: auto; ":"height: 0%; "},t._l(t.provinces,(function(s,o){return e("li",{key:o,on:{click:function(e){return t.sortByProvince(s)}}},[t._v(t._s("fr"===t.lang?s.fr:s.en))])})),0)])])])]),t.meets.length?e("div",{staticClass:"meets_cards"},t._l(t.meets,(function(s,o){return e("router-link",{key:o,staticClass:"meet_card_link",attrs:{name:"meet_card_link",to:`/${s.url}`}},[e("div",{class:"meet_card "+(s.Today?"todaymeet":""),style:`background-image: url(${s.Image?s.Image[0].url:""})`},[e("div",{staticClass:"meet_card_inner"},[e("div",{staticClass:"title"},[s.Name?e("h2",[t._v(t._s(s.Name))]):t._e(),s.Town&&s.Province?e("h3",{staticClass:"location"},[t._v(t._s(s.Town)+", "+t._s(s.Province))]):t._e()]),e("div",{staticClass:"date"},["en"===t.lang?e("span",[s.Month?e("h4",{staticClass:"month"},[t._v(t._s(s.Month))]):t._e(),s.Day?e("h3",{staticClass:"day"},[t._v(t._s(s.Day))]):t._e()]):"fr"===t.lang?e("span",[s.Day?e("h3",{staticClass:"day"},[t._v(t._s(s.Day))]):t._e(),s.Month?e("h4",{staticClass:"month"},[t._v(t._s(s.Month))]):t._e()]):t._e(),e("p",{staticClass:"time"},[e("span",{staticClass:"small"},[t._v(t._s(s.Time))])])])])])])})),1):e("div",[e("p",[t._v(t._s("fr"===t.lang?"Aucun résultat.":"No Results."))])])])},i=[],n=s(3822),r={name:"MeetsList",components:{},watch:{scroll(){this.$store.commit("setScrollY",window.scrollY)}},props:{scroll:{type:Event}},computed:{...(0,n.rn)(["your_location","lang","activeFilter","activeProvince","scrollY"])},methods:{requestLocation(){console.log("Requesting to make location API call"),this.$geoAPI.init()},todaysDate(t){return"month"===t?"fr"===this.lang?(new Date).toLocaleString("fr-FR",{month:"long"}):(new Date).toLocaleString("en-US",{month:"long"}):"day"===t?(new Date).toString().split(" ")[2]:void 0},showDropdownHandler(){this.showDropdown=!this.showDropdown,this.showDropdown&&(this.showProvDropdown=!1)},showProvDropdownHandler(){this.showProvDropdown=!this.showProvDropdown,this.showProvDropdown&&(this.showDropdown=!1)},location(){return this.your_location&&this.your_location.city?`${this.your_location.city}, ${this.your_location.state_code}, ${this.your_location.country}`:this.locationCTA},sortByProvince(t){if("Canada-Wide"===t.en)return this.meets=[...this.$meets],this.meets_sorted_by_province=[...this.$meets],this.showProvDropdown=!1,this.$store.commit("setActiveProvince",t),void this.sortBy(this.activeFilter);this.meets_sorted_by_province=[...this.$meets].filter((e=>e.Province===t.en)),this.meets=this.meets_sorted_by_province,this.showProvDropdown=!1,this.$store.commit("setActiveProvince",t),this.sortBy(this.activeFilter)},sortBy(t){return this.$store.commit("setActiveFilter",t),"Date"===t?(this.meets=this.meets_sorted_by_province,void(this.showDropdown=!1)):"Distance"===t?(this.meets=[...this.meets_sorted_by_province].sort(((t,e)=>t.DistanceFromMe-e.DistanceFromMe)),void(this.showDropdown=!1)):Number.isInteger(t)?(this.$store.commit("setActiveFilter",t),this.showDropdown=!1,void(this.meets=[...this.meets_sorted_by_province].filter((e=>e.DistanceFromMe<=t)))):void 0}},data(){return{provinces:[{en:"Alberta",fr:"Alberta"},{en:"British Columbia",fr:"Colombie-Britannique"},{en:"Manitoba",fr:"Manitoba"},{en:"New Brunswick",fr:"Nouveau-Brunswick"},{en:"Newfoundland and Labrador",fr:"Terre-Neuve-et-Labrador"},{en:"Northwest Territories",fr:"Territoires du Nord-Ouest"},{en:"Nova Scotia",fr:"Nouvelle-Écosse"},{en:"Nunavut",fr:"Nunavut"},{en:"Ontario",fr:"Ontario"},{en:"Prince Edward Island",fr:"Île-du-Prince-Édouard "},{en:"Quebec",fr:"Québec"},{en:"Saskatchewan",fr:"Saskatchewan"},{en:"Yukon",fr:"Yukon"},{en:"Canada-Wide",fr:"À travers le Canada"}],meets:this.$meets,meets_sorted_by_province:this.$meets,showDropdown:!1,showProvDropdown:!1,locationCTA:"Please enable location, then click me."}},mounted(){void 0===this.activeProvince?this.$store.commit("setActiveProvince",{en:"Ontario",fr:"Ontario"}):this.$store.commit("setActiveProvince",this.activeProvince),this.sortByProvince(this.activeProvince),window.scrollTo(0,this.scrollY)}},a=r,c=s(1001),l=(0,c.Z)(a,o,i,!1,null,"2e94410c",null),d=l.exports},6918:function(t,e,s){t.exports=s.p+"img/Calendar.c8f437a6.svg"},6639:function(t,e,s){t.exports=s.p+"img/Location.83f10a00.svg"}}]);
//# sourceMappingURL=817.cbbe70ea.js.map